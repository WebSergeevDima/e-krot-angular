<div class="report__info-item">
    Дата формирования отчета: <strong>{{report['dateCreate'] | date:'dd.MM.yyyy'}}</strong>
</div>
<div class="report__info-item">
    Локация: <strong>{{report['location']}}</strong>
</div>

<mat-divider class="divider"></mat-divider>


<section *ngIf="report['price']; else reportAutoMarket">

    <div class="grid grid_column-3">
        <div>
            <div>Марка: <strong>{{report['titleMark']}}</strong></div>
            <div>Модель: <strong>{{report['titleModel']}}</strong></div>
            <div>Год выпуска: <strong>{{report['year']}}</strong></div>
        </div>
        <div>
            <div>Тип кузова: <strong>{{report['bodyType']}}</strong></div>
            <div>Пробег: <strong>{{report['mileage']}}</strong> км</div>
            <div>Тип топлива: <strong>{{report['fuel']}}</strong></div>
        </div>
        <div>
            <div>Объем двигателя: <strong>{{report['valume']}}</strong> л.</div>
            <div>Трансмиссия: <strong>{{report['transmission']}}</strong></div>
            <div>Привод: <strong>{{report['gear']}}</strong></div>
        </div>
    </div>

    <mat-divider class="divider"></mat-divider>

    <div>Стоимость вашего автомобиля <strong>{{report['price']}}</strong> <span>USD</span></div>
    <div>Стоимость по trade-in составит <strong>{{report['tradeIn']['priceMin']}}</strong> -
        <strong>{{report['tradeIn']['priceMax']}}</strong>
        <span>USD</span></div>

    <mat-divider class="divider"></mat-divider>

    <div>Стоимость данной модели со схожими характеристиками на рынке:</div>
    <div>- минимальная <strong> {{report['priceMin']}} </strong> <span>USD</span></div>
    <div>- средняя <strong> {{report['priceAvg']}} </strong> <span>USD</span></div>
    <div>- максимальная <strong> {{report['priceMax']}} </strong> <span>USD</span></div>
    <div>Стоимость вашего автомобиля на <strong> {{report['priceDifference']}} </strong> %
        {{(report['price'] < report['priceAvg']) ? 'ниже' : 'выше'}}
        среднерыночной</div>
    <div>Средний пробег по рынку составляет <strong> {{report['mileageAvg']}} </strong> км</div>
    <div>Количество объявлений о продаже составляет <strong>{{report['carsQuantity']}}</strong> шт</div>

    <section *ngIf="report['oldCars']" class="result__old-cars">
        <mat-divider class="divider"></mat-divider>

        <mat-accordion class="example-headers-align" multi>
            <mat-expansion-panel>
                <mat-expansion-panel-header>
                    <mat-panel-title>
                        Список проданных автомобилей за последние <strong>&nbsp;6 месяцев&nbsp;</strong>
                        (<strong>{{report['oldCarsQuantity']}}&nbsp;шт</strong>)
                    </mat-panel-title>
                    <mat-panel-description>

                    </mat-panel-description>
                </mat-expansion-panel-header>

                <div *ngFor="let car of report['oldCars']">
                    <strong>{{report['titleMark']}} {{report['titleModel']}} {{car.year}}</strong>
                    г. с пробегом <strong>{{car.millage}}</strong> км за <strong>{{car.price}}</strong>
                    USD
                </div>


            </mat-expansion-panel>
        </mat-accordion>
    </section>


</section>


<ng-template #reportAutoMarket>

    <section>
        <div class="grid grid_column-3">
            <div>
                <div>Марка: <strong>{{report['titleMark']}}</strong></div>
                <div>Модель: <strong>{{report['titleModel']}}</strong></div>
                <div>Год выпуска: <strong>{{report['year']}}</strong></div>
            </div>
        </div>
        <mat-divider class="divider"></mat-divider>

        <div>Стоимость данной модели со схожими характеристиками на рынке:</div>
        <div>- минимальная <strong>{{report['priceMin']}}</strong> <span>USD</span></div>
        <div>- средняя <strong>{{report['priceAvg']}}</strong> <span>USD</span></div>
        <div>- максимальная <strong>{{report['priceMax']}}</strong> <span>USD</span></div>
        <div>Средний пробег по рынку составляет <strong>{{report['mileageAvg']}}</strong> км</div>
        <div>Количество объявлений о продаже составляет <strong>{{report['carsQuantity']}}</strong> шт</div>
        <div>Количество проданных схожих автомобилей за последние <strong>6</strong> месяцев составляет
            <strong>{{report['oldCarsQuantity']}}</strong> шт:
        </div>
    </section>
</ng-template>